services:
  web:
    build: .
    container_name: anime-episode-release-tracker
    ports:
      - "4000:4000"
    environment:
      NODE_ENV: production
      PORT: 4000
      DB_PATH: /app/data/tracker.db
      APP_BASE_URL: http://localhost:4000
      CORS_ORIGIN: "*"
      TRUST_PROXY: 1
      RATE_LIMIT_WINDOW_MS: 900000
      RATE_LIMIT_MAX: 200
      AUTH_SESSION_DAYS: 30
      ANILIST_SYNC_CRON: "15 */6 * * *"
      ANILIST_PAGE_LIMIT: 3
      ANILIST_PER_PAGE: 50
      SMTP_HOST: ""
      SMTP_PORT: 587
      SMTP_USER: ""
      SMTP_PASS: ""
      SMTP_FROM: anime-tracker@example.com
    volumes:
      - tracker_data:/app/data
    restart: unless-stopped

volumes:
  tracker_data:
